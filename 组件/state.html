<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title></title>
</head>

<body>
  <div class="box1"></div>
</body>
<script type="text/javascript" src="../js/react.js"></script>
<script type="text/javascript" src="../js/react-dom.js"></script>
<script type="text/javascript" src="../js/browser.min.js"></script>
<script type="text/babel">
  class Mycomponent extends React.Component {
    constructor (props) {
      super(props)

      // 初始化状态
      this.state = {
        isLikeMe: false
      }

      //将新增的方法中的this强制绑定为组件对象
      this.handleClick = this.handleClick.bind(this)
    }
    //新增函数内部this默认不是组件对象，而是understand
    handleClick() {
        console.log(this)
        //得到状态并取反
        const isLikeMe = !this.state.isLikeMe;
        //更新状态
        this.setState({isLikeMe});//常规写法：this.setState({isLikeMe:isLikeMe})
      }
    render() {
        console.log(this)
        // 读取状态
        const {isLikeMe} = this.state;
        return (
          <div>
            <h2>这是组件属性state的测试</h2>
            <div onClick = {this.handleClick}>{isLikeMe?'我喜欢你':'你喜欢我'}</div>
          </div>
        );
      }
    }
  ReactDOM.render(<Mycomponent/>, document.querySelector('.box1'));
</script>

</html>
